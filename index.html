<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Landing page officielle du Franc Numérique (FRN) sur le réseau XODEX.">
  <title>Franc Numérique - FRN</title>
  <link rel="icon" type="image/png" href="icon-192.png" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0a0a0a;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
      padding: 20px;
    }

    .logo {
      width: 180px;
      height: auto;
      margin-bottom: 30px;
    }

    h1 {
      font-size: 2.8em;
      color: #ffffff;
      margin: 0 0 10px;
    }

    p {
      font-size: 1.2em;
      color: #cccccc;
      max-width: 600px;
      margin-bottom: 20px;
    }

    .btn, .lang-btn {
      display: inline-block;
      padding: 12px 25px;
      font-size: 1em;
      font-weight: bold;
      color: #000;
      background-color: #ffffff;
      border: none;
      border-radius: 8px;
      text-decoration: none;
      margin: 5px;
      transition: background 0.3s;
      cursor: pointer;
    }

    .btn:hover, .lang-btn:hover {
      background-color: #dddddd;
    }

    .lang-switch {
      position: absolute;
      top: 20px;
      right: 20px;
    }

    #contract {
      font-size: 0.95em;
      color: #aaa;
      word-break: break-all;
      margin-top: 30px;
    }

    footer {
      margin-top: 40px;
      font-size: 0.9em;
      color: #777;
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 2em;
      }

      p {
        font-size: 1em;
      }

      .lang-switch {
        top: 10px;
        right: 10px;
      }

      #contract {
        font-size: 0.85em;
      }
    }
  </style>
</head>
<body>

  <div class="lang-switch">
    <button class="lang-btn" onclick="setLanguage('fr')" aria-label="Changer la langue en français">FR</button>
    <button class="lang-btn" onclick="setLanguage('en')" aria-label="Switch language to English">EN</button>
  </div>

  <img src="icon-192.png" alt="Logo FRN" class="logo" />

  <h1 id="title">Franc Numérique (FRN)</h1>
  <p id="description">
    Le Franc Numérique est un token conçu pour l'économie numérique sur le réseau XODEX. Sécurisé, rapide et sans frais, il est accessible à tous.
  </p>

  <a href="https://mlameche01.github.io/trancnumerique/" class="btn" id="walletBtn">Accéder au Wallet FRN</a>
  <button class="btn" onclick="addToMetaMask()">Ajouter à MetaMask</button>

  <div id="contract">
    <strong id="contractLabel">Adresse du contrat FRN :</strong><br>
    <code>0x64e73E00a9d37188C0e25EC5cfdDCD856Ad7a77D</code>
  </div>

  <footer>
    &copy; 2025 Franc Numérique. Réseau XODEX.
  </footer>

  <script>
    const translations = {
      fr: {
        title: "Franc Numérique (FRN)",
        description: "Le Franc Numérique est un token conçu pour l'économie numérique sur le réseau XODEX. Sécurisé, rapide et sans frais, il est accessible à tous.",
        walletBtn: "Accéder au Wallet FRN",
        contractLabel: "Adresse du contrat FRN :"
      },
      en: {
        title: "Digital Franc (FRN)",
        description: "The Digital Franc is a token designed for the digital economy on the XODEX network. Secure, fast and gasless, it is accessible to all.",
        walletBtn: "Access FRN Wallet",
        contractLabel: "FRN Token Contract Address:"
      }
    };

    function setLanguage(lang) {
      localStorage.setItem('lang', lang);
      applyLanguage(lang);
    }

    function applyLanguage(lang) {
      const t = translations[lang] || translations['fr'];
      document.getElementById('title').innerText = t.title;
      document.getElementById('description').innerText = t.description;
      document.getElementById('walletBtn').innerText = t.walletBtn;
      document.getElementById('contractLabel').innerText = t.contractLabel;
      document.documentElement.lang = lang;
    }

    document.addEventListener("DOMContentLoaded", () => {
      const lang = localStorage.getItem('lang') || 'fr';
      applyLanguage(lang);
    });

    async function addToMetaMask() {
      if (typeof window.ethereum === 'undefined') {
        alert("MetaMask n'est pas détecté.");
        return;
      }

      const xodexParams = {
        chainId: '0x29A', // 666 en hex
        chainName: 'XODEX',
        nativeCurrency: {
          name: 'XODEX',
          symbol: 'XOD',
          decimals: 18
        },
        rpcUrls: ['https://mainnet.xo-dex.com/rpc'],
        blockExplorerUrls: ['https://explorer.xo-dex.com']
      };

      const tokenAddress = '0x64e73E00a9d37188C0e25EC5cfdDCD856Ad7a77D';

      try {
        await ethereum.request({
          method: 'wallet_addEthereumChain',
          params: [xodexParams]
        });

        await ethereum.request({
          method: 'wallet_watchAsset',
          params: {
            type: 'ERC20',
            options: {
              address: tokenAddress,
              symbol: 'FRN',
              decimals: 18,
              image: location.origin + '/icon-192.png'
            }
          }
        });
      } catch (error) {
        console.error('Erreur MetaMask :', error);
        alert("Une erreur est survenue lors de l'ajout à MetaMask.");
      }
    }
  </script>

</body>
</html>
